<nav class="navbar navbar-expand-sm navbar-dark bg-success">
    <div class="container-fluid">
      <div class="d-flex align-items-center">
        <a class="navbar-brand fs-4" (click)="goToAdminHome()" style="cursor:pointer;">社会保険管理システム（管理者画面）</a>
      </div>
      <!-- 右側に寄せる部分 -->
      <div class="d-flex align-items-center ms-auto">
        <!-- ユーザー情報表示 -->
        <div class="text-light me-3 dropdown border border-light rounded px-3 py-1 bg-success">
          <div class="d-flex align-items-center" style="cursor: pointer;" data-bs-toggle="dropdown" data-bs-auto-close="outside">
            <i class="fa-solid fa-user me-2"></i>
            {{employeeName}}
          </div>
          <!-- ユーザー情報ポップアップ -->
          <div class="dropdown-menu dropdown-menu-end p-3 user-info-popup" style="min-width: 300px;">
            <h6 class="border-bottom pb-2 mb-3">従業員情報</h6>
            <div class="mb-2">
              <small class="text-muted d-block">会社名</small>
              <div class="text-break">{{companyName}}</div>
            </div>
            <div class="mb-2">
              <small class="text-muted d-block">従業員名</small>
              <div class="text-break">{{employeeName}}</div>
            </div>
            <div class="mb-2">
                <small class="text-muted d-block">社員番号</small>
                <div class="text-break">{{employeeId}}</div>
              </div>
            <div class="mb-2">
              <small class="text-muted d-block">従業員メールアドレス</small>
              <div class="text-break">{{employeeEmail}}</div>
            </div>
            <div class="mb-2">
                <small class="text-muted d-block">権限</small>
                <div class="text-break">
                  <ng-container *ngIf="roles && roles.length > 0; else noRole">
                    <div class="d-flex align-items-center flex-wrap">
                      <div *ngFor="let role of activeRoles">
                        <span [ngClass]="role.type === 'admin' ? 'badge bg-primary me-1' : role.type === 'approver' ? 'badge bg-success me-1' : 'badge bg-secondary me-1'">
                          {{ role.type === 'admin' ? '管理者' : role.type === 'approver' ? '承認者' : role.type }}
                        </span>
                      </div>
                    </div>
                  </ng-container>
                  <ng-template #noRole> なし </ng-template>
                </div>
            </div>
            <!-- <div class="mb-2">
              <small class="text-muted d-block">メールアドレス変更</small>
              <div class="text-break"><button class="btn btn-outline-primary" (click)="goToChangeEmail()">変更する</button></div>
            </div> -->
          </div>
        </div>
        <div class="mx-2 me-3 px-3 py-1">
            <button class="btn btn-outline-light" (click)="goToEmployeeHome()">従業員画面</button>
        </div>       
        <button class="btn btn-outline-light" (click)="goToLogin()">ログアウト</button>
      </div>
    </div>
</nav>

<div class="container-fluid mt-5 bg-light min-vh-100">
  <div class="row">
    <!-- 左サイドバー（縦長カード） -->
    <div class="col-md-4 mb-4">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title">メニュー</h5>
          <ul class="list-group list-group-flush">
            <li class="list-group-item">
              <a class="text-decoration-none fw-bold text-success" style="cursor: pointer;" (click)="goToRegisterSalary()">給与情報登録</a>
              <div class="small text-muted">給与情報の登録はこちらから</div>
            </li>
            <li class="list-group-item">
              <a class="text-decoration-none fw-bold text-success" style="cursor: pointer;" (click)="goToAllEmployeeList()">従業員情報管理</a>
              <div class="small text-muted">従業員情報の管理はこちらから</div>
            </li>
            <li class="list-group-item">
              <a href="#" class="text-decoration-none fw-bold text-success">申請管理・審査</a>
              <div class="small text-muted">申請管理・審査はこちらから</div>
            </li>
            <li class="list-group-item">
              <a href="#" class="text-decoration-none fw-bold text-success">保険料シミュレーション</a>
              <div class="small text-muted">保険料のシミュレーションはこちらから</div>
            </li>
            <li class="list-group-item">
              <a href="#" class="text-decoration-none fw-bold text-success">社会保険申請フォーム</a>
              <div class="small text-muted">会社が行う社会保険申請はこちらから</div>
            </li>
            <li class="list-group-item">
                <a href="#" class="text-decoration-none fw-bold text-success">提出様式作成</a>
                <div class="small text-muted">提出様式の作成はこちらから</div>
            </li>
            <li class="list-group-item">
                <a href="#" class="text-decoration-none fw-bold text-success">提出様式出力・提出</a>
                <div class="small text-muted">提出様式の出力・提出はこちらから</div>
            </li>
            <li class="list-group-item">
                <a href="#" class="text-decoration-none fw-bold text-success">履歴管理 </a>
                <div class="small text-muted">申請などの履歴管理はこちらから</div>
            </li>
            <li class="list-group-item">
                <a href="#" class="text-decoration-none fw-bold text-success">連絡・返信フォーム</a>
                <div class="small text-muted">従業員からの連絡・返信はこちらから</div>
            </li>
            <li class="list-group-item">
              <a href="#" class="text-decoration-none fw-bold text-success">掲示板</a>
              <div class="small text-muted">掲示板の管理はこちらから</div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- 中央・右：ダッシュボード -->
    <div class="col-md-8 mb-4">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">ダッシュボード</h5>
          <p class="card-text">ここにダッシュボードの内容（タスク一覧やお知らせなど）を表示します。</p>
        </div>
      </div>
      <!-- 必要に応じて他のダッシュボード要素を追加 -->
      <div class="row">
        <div class="col-md-6">
          <div class="card mb-4">
            <div class="card-body">
              <h6 class="card-title">お知らせ</h6>
              <p class="card-text">お知らせ内容</p>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card mb-4">
            <div class="card-body">
              <h6 class="card-title">申請状況</h6>
              <p class="card-text">申請状況内容</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

